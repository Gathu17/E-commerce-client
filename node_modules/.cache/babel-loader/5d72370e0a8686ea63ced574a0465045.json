{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/Users/GATHU/Desktop/E-client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject10,_templateObject11;import React,{useEffect}from'react';import styled from'styled-components';import{useQuery}from'@apollo/client';import{FETCH_PRODUCT}from'../util/graphql';import DeleteButton from'./DeleteButton';import{useDispatch}from'react-redux';import{useSelector}from'react-redux';import{incrementProduct,decrementProduct}from'../redux/cartRedux';import{useNavigate}from'react-router';import{mobile}from'../util/responsive';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Product=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\ndisplay: flex;\\njsutify-content: space-between;\\npadding: 10px;\\n\"])));var Image=styled.img(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\nwidth: 200px;\\nheight: 200px;\\n\\n\"])));var ProductDetails=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\ndisplay: flex;\\nflex: 2;\\n\"])));var Details=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\ndisplay: flex;\\nflex-direction: column;\\njustify-content: space-around;\\nmargin-left: 20px;\\n\",\"\\n\"])),mobile({marginLeft:'10px'}));var ProductName=styled.span(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\"])));var ProductId=styled.span(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\"])));var ProductSize=styled.span(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\"])));var ProductColor=styled.span(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\nwidth: 20px;\\nheight: 20px;\\nborder-radius: 50%;\\nbackground-color: \",\"\\n\"])),function(props){return props.color;});var Hr=styled.hr(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\nopacity: 0.5;\\nheight: 1px;\\n\"])));var PriceDetails=styled.div(_templateObject10||(_templateObject10=_taggedTemplateLiteral([\"\\nfont-size: 1.9em;\\nfont-weight: 200;\\n\"])));var Price=styled.div(_templateObject11||(_templateObject11=_taggedTemplateLiteral([\"\"])));var Prices;var CartProduct=function CartProduct(_ref){var _ref$product=_ref.product,productId=_ref$product.productId,quantity=_ref$product.quantity;var dispatch=useDispatch();var navigate=useNavigate();var Total=useSelector(function(state){return state.cart.total;});var count=useSelector(function(state){return state.cart.quantity;});var _useQuery=useQuery(FETCH_PRODUCT,{variables:{productId:productId}}),data=_useQuery.data;var products;useEffect(function(){if(count===0){navigate('/Products');}else{}});var CartCallback=function CartCallback(){dispatch(decrementProduct({Prices:Prices}));};if(data){console.log(data);var _data$getProduct=data.getProduct,title=_data$getProduct.title,img=_data$getProduct.img,size=_data$getProduct.size,price=_data$getProduct.price,color=_data$getProduct.color;console.log(Prices);products=/*#__PURE__*/_jsxs(Product,{children:[/*#__PURE__*/_jsxs(ProductDetails,{children:[/*#__PURE__*/_jsx(Image,{src:img}),/*#__PURE__*/_jsxs(Details,{children:[/*#__PURE__*/_jsxs(ProductName,{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Product:\"}),\" \",title]}),/*#__PURE__*/_jsxs(ProductId,{children:[/*#__PURE__*/_jsx(\"b\",{children:\"ID\"}),\" \",productId]}),/*#__PURE__*/_jsx(ProductColor,{color:color}),/*#__PURE__*/_jsxs(ProductSize,{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Size:\"}),\" \",size]})]})]}),/*#__PURE__*/_jsxs(PriceDetails,{children:[/*#__PURE__*/_jsx(DeleteButton,{productId:productId,callback:CartCallback}),/*#__PURE__*/_jsx(Price,{children:\" \"})]})]});}return/*#__PURE__*/_jsx(\"div\",{children:products});};export{CartProduct};","map":{"version":3,"sources":["C:/Users/GATHU/Desktop/E-client/src/components/CartProduct.js"],"names":["React","useEffect","styled","useQuery","FETCH_PRODUCT","DeleteButton","useDispatch","useSelector","incrementProduct","decrementProduct","useNavigate","mobile","Product","div","Image","img","ProductDetails","Details","marginLeft","ProductName","span","ProductId","ProductSize","ProductColor","props","color","Hr","hr","PriceDetails","Price","Prices","CartProduct","product","productId","quantity","dispatch","navigate","Total","state","cart","total","count","variables","data","products","CartCallback","console","log","getProduct","title","size","price"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\r\nimport styled from 'styled-components'\r\nimport {useQuery} from '@apollo/client'\r\nimport {FETCH_PRODUCT} from '../util/graphql'\r\nimport DeleteButton from './DeleteButton'\r\nimport {useDispatch} from 'react-redux'\r\nimport {useSelector} from 'react-redux'\r\nimport {incrementProduct,decrementProduct} from '../redux/cartRedux'\r\nimport {useNavigate} from 'react-router'\r\nimport {mobile} from '../util/responsive'\r\n\r\nconst Product = styled.div`\r\ndisplay: flex;\r\njsutify-content: space-between;\r\npadding: 10px;\r\n`\r\nconst Image = styled.img`\r\nwidth: 200px;\r\nheight: 200px;\r\n\r\n`\r\nconst ProductDetails = styled.div`\r\ndisplay: flex;\r\nflex: 2;\r\n`\r\nconst Details = styled.div`\r\ndisplay: flex;\r\nflex-direction: column;\r\njustify-content: space-around;\r\nmargin-left: 20px;\r\n${mobile({marginLeft:'10px'})}\r\n`\r\nconst ProductName = styled.span``\r\nconst ProductId = styled.span``\r\nconst ProductSize = styled.span``\r\nconst ProductColor = styled.span`\r\nwidth: 20px;\r\nheight: 20px;\r\nborder-radius: 50%;\r\nbackground-color: ${(props)=> props.color}\r\n`\r\nconst Hr = styled.hr`\r\nopacity: 0.5;\r\nheight: 1px;\r\n`\r\nconst PriceDetails = styled.div`\r\nfont-size: 1.9em;\r\nfont-weight: 200;\r\n`\r\n\r\nconst Price = styled.div``\r\nlet Prices;\r\nconst CartProduct = ({product:{productId,quantity}}) => {\r\n    const dispatch = useDispatch()\r\n    const navigate = useNavigate()\r\n    const Total = useSelector(state => state.cart.total)\r\n    const count = useSelector(state => state.cart.quantity)\r\n   \r\n    const {data} = useQuery(FETCH_PRODUCT,{\r\n        variables: {productId}\r\n    })\r\n    let products;\r\n   useEffect(() => {\r\n     if(count === 0){\r\n      navigate('/Products')\r\n     }else{\r\n\r\n     }\r\n   })\r\n  \r\n   \r\n    const CartCallback = () =>{\r\n          \r\n          dispatch(decrementProduct({Prices}))\r\n        }\r\n    if(data) {\r\n        console.log(data)\r\n        const {title,img ,size, price, color} = data.getProduct\r\n        \r\n         \r\n         console.log(Prices)\r\n        products = (\r\n            \r\n                   <Product>\r\n                   \r\n                    <ProductDetails>\r\n                        <Image src={img}/> \r\n                        <Details>\r\n                       <ProductName><b>Product:</b> {title}</ProductName>\r\n                       <ProductId><b>ID</b> {productId}</ProductId>\r\n                       <ProductColor color={color}/>\r\n                       <ProductSize><b>Size:</b> {size}</ProductSize>\r\n                       </Details>\r\n                    </ProductDetails>\r\n                    <PriceDetails>\r\n                      <DeleteButton productId={productId} callback={CartCallback}/>\r\n                      <Price> </Price>\r\n\r\n                    </PriceDetails>\r\n                   </Product>\r\n                 \r\n        )\r\n          \r\n    } \r\n    \r\n    \r\n  \r\n    return <div>{products}</div>;\r\n}\r\n  export { CartProduct};\r\n "]},"metadata":{},"sourceType":"module"}